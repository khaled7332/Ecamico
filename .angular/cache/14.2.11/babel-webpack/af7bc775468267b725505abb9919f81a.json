{"ast":null,"code":"'use strict';\n/**\n * Response error class\n */\n\nclass ResponseError extends Error {\n  /**\n   * Constructor\n   */\n  constructor(response) {\n    //Super\n    super(); //Extract data from response\n\n    const {\n      headers,\n      status,\n      statusText,\n      data\n    } = response; //Set data\n\n    this.code = status;\n    this.message = statusText;\n    this.response = {\n      headers,\n      body: data\n    }; //Capture stack trace\n\n    if (!this.stack) {\n      Error.captureStackTrace(this, this.constructor);\n    } //Clean up stack trace\n\n\n    const regex = new RegExp(process.cwd() + '/', 'gi');\n    this.stack = this.stack.replace(regex, '');\n  }\n  /**\n   * Convert to string\n   */\n\n\n  toString() {\n    const {\n      body\n    } = this.response;\n    let err = `${this.message} (${this.code})`;\n\n    if (body && Array.isArray(body.errors)) {\n      body.errors.forEach(error => {\n        const message = error.message;\n        const field = error.field;\n        const help = error.help;\n        err += `\\n  ${message}\\n    ${field}\\n    ${help}`;\n      });\n    }\n\n    return err;\n  }\n  /**\n   * Convert to simple object for JSON responses\n   */\n\n\n  toJSON() {\n    const {\n      message,\n      code,\n      response\n    } = this;\n    return {\n      message,\n      code,\n      response\n    };\n  }\n\n} //Export\n\n\nmodule.exports = ResponseError;","map":{"version":3,"names":["ResponseError","Error","constructor","response","headers","status","statusText","data","code","message","body","stack","captureStackTrace","regex","RegExp","process","cwd","replace","toString","err","Array","isArray","errors","forEach","error","field","help","toJSON","module","exports"],"sources":["D:/grad project/examico project/Ecamico/node_modules/@sendgrid/helpers/classes/response-error.js"],"sourcesContent":["'use strict';\n\n/**\n * Response error class\n */\nclass ResponseError extends Error {\n\n  /**\n   * Constructor\n   */\n  constructor(response) {\n\n    //Super\n    super();\n\n    //Extract data from response\n    const { headers, status, statusText, data } = response;\n\n    //Set data\n    this.code = status;\n    this.message = statusText;\n    this.response = { headers, body: data };\n\n    //Capture stack trace\n    if (!this.stack) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    //Clean up stack trace\n    const regex = new RegExp(process.cwd() + '/', 'gi');\n    this.stack = this.stack.replace(regex, '');\n  }\n\n  /**\n   * Convert to string\n   */\n  toString() {\n    const { body } = this.response;\n    let err = `${this.message} (${this.code})`;\n    if (body && Array.isArray(body.errors)) {\n      body.errors.forEach(error => {\n        const message = error.message;\n        const field = error.field;\n        const help = error.help;\n        err += `\\n  ${message}\\n    ${field}\\n    ${help}`;\n      });\n    }\n    return err;\n  }\n\n  /**\n   * Convert to simple object for JSON responses\n   */\n  toJSON() {\n    const { message, code, response } = this;\n    return { message, code, response };\n  }\n}\n\n//Export\nmodule.exports = ResponseError;\n"],"mappings":"AAAA;AAEA;AACA;AACA;;AACA,MAAMA,aAAN,SAA4BC,KAA5B,CAAkC;EAEhC;AACF;AACA;EACEC,WAAW,CAACC,QAAD,EAAW;IAEpB;IACA,QAHoB,CAKpB;;IACA,MAAM;MAAEC,OAAF;MAAWC,MAAX;MAAmBC,UAAnB;MAA+BC;IAA/B,IAAwCJ,QAA9C,CANoB,CAQpB;;IACA,KAAKK,IAAL,GAAYH,MAAZ;IACA,KAAKI,OAAL,GAAeH,UAAf;IACA,KAAKH,QAAL,GAAgB;MAAEC,OAAF;MAAWM,IAAI,EAAEH;IAAjB,CAAhB,CAXoB,CAapB;;IACA,IAAI,CAAC,KAAKI,KAAV,EAAiB;MACfV,KAAK,CAACW,iBAAN,CAAwB,IAAxB,EAA8B,KAAKV,WAAnC;IACD,CAhBmB,CAkBpB;;;IACA,MAAMW,KAAK,GAAG,IAAIC,MAAJ,CAAWC,OAAO,CAACC,GAAR,KAAgB,GAA3B,EAAgC,IAAhC,CAAd;IACA,KAAKL,KAAL,GAAa,KAAKA,KAAL,CAAWM,OAAX,CAAmBJ,KAAnB,EAA0B,EAA1B,CAAb;EACD;EAED;AACF;AACA;;;EACEK,QAAQ,GAAG;IACT,MAAM;MAAER;IAAF,IAAW,KAAKP,QAAtB;IACA,IAAIgB,GAAG,GAAI,GAAE,KAAKV,OAAQ,KAAI,KAAKD,IAAK,GAAxC;;IACA,IAAIE,IAAI,IAAIU,KAAK,CAACC,OAAN,CAAcX,IAAI,CAACY,MAAnB,CAAZ,EAAwC;MACtCZ,IAAI,CAACY,MAAL,CAAYC,OAAZ,CAAoBC,KAAK,IAAI;QAC3B,MAAMf,OAAO,GAAGe,KAAK,CAACf,OAAtB;QACA,MAAMgB,KAAK,GAAGD,KAAK,CAACC,KAApB;QACA,MAAMC,IAAI,GAAGF,KAAK,CAACE,IAAnB;QACAP,GAAG,IAAK,OAAMV,OAAQ,SAAQgB,KAAM,SAAQC,IAAK,EAAjD;MACD,CALD;IAMD;;IACD,OAAOP,GAAP;EACD;EAED;AACF;AACA;;;EACEQ,MAAM,GAAG;IACP,MAAM;MAAElB,OAAF;MAAWD,IAAX;MAAiBL;IAAjB,IAA8B,IAApC;IACA,OAAO;MAAEM,OAAF;MAAWD,IAAX;MAAiBL;IAAjB,CAAP;EACD;;AAnD+B,C,CAsDlC;;;AACAyB,MAAM,CAACC,OAAP,GAAiB7B,aAAjB"},"metadata":{},"sourceType":"script"}